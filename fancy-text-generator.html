<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fancy Text Generator</title>
  <style>
  * {
    box-sizing: border-box;
  }
  
  body {
    font-family: Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 10px;
    background-color: #f5f5f5;
    color: #333;
    line-height: 1.5;
  }
  
  .container {
    max-width: 100%;
    margin: 0 auto;
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    padding: 16px;
  }
  
  h1 {
    text-align: center;
    color: #333;
    margin-top: 0;
    padding-bottom: 10px;
    border-bottom: 2px solid #eee;
    font-size: 1.5rem;
  }
  
  .input-section, .output-section {
    margin-bottom: 20px;
  }
  
  label {
    display: block;
    margin-bottom: 8px;
    font-weight: bold;
  }
  
  textarea, input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
    font-family: Helvetica, Arial, sans-serif;
  }
  
  textarea {
    min-height: 100px;
  }
  
  .transform-options {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
  }
  
  .transform-btn {
    padding: 10px 12px;
    background-color: #4a6fa5;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 16px;
    min-width: 44px;
    min-height: 44px;
    flex: 1 0 calc(50% - 10px);
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  @media (min-width: 480px) {
    .transform-btn {
      flex: 1 0 calc(33.333% - 10px);
    }
  }
  
  @media (min-width: 768px) {
    .transform-btn {
      flex: 0 1 auto;
    }
  }
  
  .transform-btn:hover {
    background-color: #3a5a8f;
  }
  
  .transform-btn:focus {
    outline: 3px solid #90caf9;
  }
  
  .transform-btn.active {
    background-color: #2c4870;
  }
  
  .output-box {
    border: 1px solid #eee;
    padding: 15px;
    border-radius: 4px;
    position: relative;
    background-color: #fafafa;
    margin-bottom: 15px;
  }
  
  .output-title {
    font-size: 16px;
    margin-bottom: 8px;
    font-weight: bold;
    color: #555;
  }
  
  .output-text {
    word-break: break-word;
    margin-bottom: 40px;
    min-height: 20px;
    padding: 10px;
    background: #fff;
    border: 1px solid #eee;
    border-radius: 4px;
  }
  
  .copy-btn {
    position: absolute;
    bottom: 15px;
    right: 15px;
    background-color: #4a6fa5;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 8px 12px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.2s;
    min-width: 44px;
    min-height: 44px;
  }
  
  .copy-btn:hover {
    background-color: #3a5a8f;
  }
  
  .copy-btn:focus {
    outline: 3px solid #90caf9;
  }
  
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
  
  .keyboard-hint {
    margin-top: 8px;
    font-size: 14px;
    color: #666;
    display: none;
  }
  
  kbd {
    background-color: #f7f7f7;
    border: 1px solid #ccc;
    border-radius: 3px;
    box-shadow: 0 1px 0 rgba(0,0,0,0.2);
    color: #333;
    display: inline-block;
    font-size: 0.85em;
    font-family: monospace;
    line-height: 1;
    padding: 2px 4px;
    margin: 0 2px;
    white-space: nowrap;
  }
  
  body.keyboard-user .keyboard-hint {
    display: block;
  }
  
  .status-message {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #333;
    color: white;
    padding: 10px 20px;
    border-radius: 4px;
    z-index: 100;
    opacity: 0;
    transition: opacity 0.3s;
  }
  
  .show-status {
    opacity: 1;
  }
  
  .processing-indicator {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(to right, #4a6fa5, #90caf9);
    z-index: 1000;
    animation: loading 2s infinite linear;
    transform-origin: left;
    display: none;
  }
  
  @keyframes loading {
    0% {
      transform: scaleX(0);
    }
    50% {
      transform: scaleX(0.5);
    }
    100% {
      transform: scaleX(1);
    }
  }
  
  .processing .processing-indicator {
    display: block;
  }
  
  @media (min-width: 768px) {
    .container {
      max-width: 800px;
      padding: 20px;
    }
    
    h1 {
      font-size: 2rem;
    }
    
    .output-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 15px;
    }
    
    .output-box {
      margin-bottom: 0;
    }
  }
  </style>
</head>
<body>
  <div class="container">
    <h1>Fancy Text Generator</h1>
    
    <div class="input-section">
      <label for="input-text">Enter text to transform:</label>
      <textarea 
        id="input-text" 
        rows="3" 
        placeholder="Type or paste your text here..." 
        aria-describedby="input-help"
      ></textarea>
      <div id="input-help" class="sr-only">
        Type text here to see it transformed into different styles
      </div>
      <div id="keyboard-hint" class="keyboard-hint">
        <kbd>Tab</kbd> to navigate, <kbd>Enter</kbd> to select styles
      </div>
    </div>
    
    <div class="transform-options" role="tablist" aria-label="Text transformation styles">
      <button class="transform-btn active" data-type="all" role="tab" aria-selected="true">All Styles</button>
      <button class="transform-btn" data-type="flip" role="tab" aria-selected="false">Upside Down</button>
      <button class="transform-btn" data-type="tiny" role="tab" aria-selected="false">Tiny</button>
      <button class="transform-btn" data-type="wide" role="tab" aria-selected="false">Wide</button>
      <button class="transform-btn" data-type="bubble" role="tab" aria-selected="false">Bubble</button>
      <button class="transform-btn" data-type="bold" role="tab" aria-selected="false">Bold</button>
      <button class="transform-btn" data-type="italic" role="tab" aria-selected="false">Italic</button>
      <button class="transform-btn" data-type="strike" role="tab" aria-selected="false">Strike</button>
      <button class="transform-btn" data-type="medieval" role="tab" aria-selected="false">Medieval</button>
      <button class="transform-btn" data-type="cursive" role="tab" aria-selected="false">Cursive</button>
      <button class="transform-btn" data-type="doublestruck" role="tab" aria-selected="false">Double-Struck</button>
      <button class="transform-btn" data-type="squared" role="tab" aria-selected="false">Squared</button>
      <button class="transform-btn" data-type="script" role="tab" aria-selected="false">Script</button>
    </div>
    
    <div class="output-section">
      <h2 id="output-heading">Generated Text Styles:</h2>
      <div class="output-container" id="output-container" aria-live="polite" aria-labelledby="output-heading">
        <!-- Output boxes will be added here -->
      </div>
    </div>
  </div>
  
  <div id="status-message" class="status-message" aria-live="assertive"></div>
  <div class="processing-indicator" id="processing-indicator"></div>

<script type="module">
// Flip table for upside-down text (from reference code)
const flipTable = {
  a: '…ê', b: 'q', c: '…î', d: 'p', e: '«ù', f: '…ü', g: '∆É', h: '…•', i: '·¥â', j: '…æ',
  k: ' û', l: 'l', m: '…Ø', n: 'u', o: 'o', p: 'd', q: 'b', r: '…π', s: 's', t: ' á',
  u: 'n', v: ' å', w: ' ç', x: 'x', y: ' é', z: 'z',
  A: '‚àÄ', B: 'B', C: '∆Ü', D: 'D', E: '∆é', F: '‚Ñ≤', G: '◊§', H: 'H', I: 'I', J: '≈ø',
  K: 'K', L: 'À•', M: 'W', N: 'N', O: 'O', P: '‘Ä', Q: 'Q', R: 'Íì§', S: 'S', T: '‚î¥',
  U: '‚à©', V: 'Œõ', W: 'M', X: 'X', Y: '‚ÖÑ', Z: 'Z',
  0: '0', 1: '∆ñ', 2: '·ÑÖ', 3: '∆ê', 4: '„Ñ£', 5: 'œõ', 6: '9', 7: '„Ñ•', 8: '8', 9: '6',
  ',': '\'', '.': 'Àô', '?': '¬ø', '!': '¬°', '"': '‚Äû', '\'': ',', '(': ')', ')': '(',
  '[': ']', ']': '[', '{': '}', '}': '{', '<': '>', '>': '<', '&': '‚Öã', '_': '‚Äæ',
};

// Character maps for different text transformations
const charMaps = {
  tiny: {
    a: '·µÉ', b: '·µá', c: '·∂ú', d: '·µà', e: '·µâ', f: '·∂†', g: '·µç', h: ' ∞', i: '‚Å±', j: ' ≤',
    k: '·µè', l: 'À°', m: '·µê', n: '‚Åø', o: '·µí', p: '·µñ', q: '·µ†', r: ' ≥', s: 'À¢', t: '·µó',
    u: '·µò', v: '·µõ', w: ' ∑', x: 'À£', y: ' ∏', z: '·∂ª',
    A: '·¥¨', B: '·¥Æ', C: '·∂ú', D: '·¥∞', E: '·¥±', F: '·∂†', G: '·¥≥', H: '·¥¥', I: '·¥µ', J: '·¥∂',
    K: '·¥∑', L: '·¥∏', M: '·¥π', N: '·¥∫', O: '·¥º', P: '·¥æ', Q: '·µ†', R: '·¥ø', S: 'À¢', T: '·µÄ',
    U: '·µÅ', V: '‚±Ω', W: '·µÇ', X: 'À£', Y: ' ∏', Z: '·∂ª',
    0: '‚Å∞', 1: '¬π', 2: '¬≤', 3: '¬≥', 4: '‚Å¥', 5: '‚Åµ', 6: '‚Å∂', 7: '‚Å∑', 8: '‚Å∏', 9: '‚Åπ',
  },
  wide: {
    a: 'ÔΩÅ', b: 'ÔΩÇ', c: 'ÔΩÉ', d: 'ÔΩÑ', e: 'ÔΩÖ', f: 'ÔΩÜ', g: 'ÔΩá', h: 'ÔΩà', i: 'ÔΩâ', j: 'ÔΩä',
    k: 'ÔΩã', l: 'ÔΩå', m: 'ÔΩç', n: 'ÔΩé', o: 'ÔΩè', p: 'ÔΩê', q: 'ÔΩë', r: 'ÔΩí', s: 'ÔΩì', t: 'ÔΩî',
    u: 'ÔΩï', v: 'ÔΩñ', w: 'ÔΩó', x: 'ÔΩò', y: 'ÔΩô', z: 'ÔΩö',
    A: 'Ôº°', B: 'Ôº¢', C: 'Ôº£', D: 'Ôº§', E: 'Ôº•', F: 'Ôº¶', G: 'Ôºß', H: 'Ôº®', I: 'Ôº©', J: 'Ôº™',
    K: 'Ôº´', L: 'Ôº¨', M: 'Ôº≠', N: 'ÔºÆ', O: 'ÔºØ', P: 'Ôº∞', Q: 'Ôº±', R: 'Ôº≤', S: 'Ôº≥', T: 'Ôº¥',
    U: 'Ôºµ', V: 'Ôº∂', W: 'Ôº∑', X: 'Ôº∏', Y: 'Ôºπ', Z: 'Ôº∫',
    0: 'Ôºê', 1: 'Ôºë', 2: 'Ôºí', 3: 'Ôºì', 4: 'Ôºî', 5: 'Ôºï', 6: 'Ôºñ', 7: 'Ôºó', 8: 'Ôºò', 9: 'Ôºô',
    ' ': '„ÄÄ', '!': 'ÔºÅ', '"': 'ÔºÇ', '#': 'ÔºÉ', '$': 'ÔºÑ', '%': 'ÔºÖ', '&': 'ÔºÜ', "'": 'Ôºá',
    '(': 'Ôºà', ')': 'Ôºâ', '*': 'Ôºä', '+': 'Ôºã', ',': 'Ôºå', '-': 'Ôºç', '.': 'Ôºé', '/': 'Ôºè',
    ':': 'Ôºö', ';': 'Ôºõ', '<': 'Ôºú', '=': 'Ôºù', '>': 'Ôºû', '?': 'Ôºü', '@': 'Ôº†',
    '[': 'Ôºª', '\\': 'Ôºº', ']': 'ÔºΩ', '^': 'Ôºæ', '_': 'Ôºø', '`': 'ÔΩÄ', '{': 'ÔΩõ', '|': 'ÔΩú',
    '}': 'ÔΩù', '~': 'ÔΩû',
  },
  bubble: {
    a: '‚ìê', b: '‚ìë', c: '‚ìí', d: '‚ìì', e: '‚ìî', f: '‚ìï', g: '‚ìñ', h: '‚ìó', i: '‚ìò', j: '‚ìô',
    k: '‚ìö', l: '‚ìõ', m: '‚ìú', n: '‚ìù', o: '‚ìû', p: '‚ìü', q: '‚ì†', r: '‚ì°', s: '‚ì¢', t: '‚ì£',
    u: '‚ì§', v: '‚ì•', w: '‚ì¶', x: '‚ìß', y: '‚ì®', z: '‚ì©',
    A: '‚í∂', B: '‚í∑', C: '‚í∏', D: '‚íπ', E: '‚í∫', F: '‚íª', G: '‚íº', H: '‚íΩ', I: '‚íæ', J: '‚íø',
    K: '‚ìÄ', L: '‚ìÅ', M: '‚ìÇ', N: '‚ìÉ', O: '‚ìÑ', P: '‚ìÖ', Q: '‚ìÜ', R: '‚ìá', S: '‚ìà', T: '‚ìâ',
    U: '‚ìä', V: '‚ìã', W: '‚ìå', X: '‚ìç', Y: '‚ìé', Z: '‚ìè',
    0: '‚ì™', 1: '‚ë†', 2: '‚ë°', 3: '‚ë¢', 4: '‚ë£', 5: '‚ë§', 6: '‚ë•', 7: '‚ë¶', 8: '‚ëß', 9: '‚ë®',
  },
  bold: {
    a: 'ùóÆ', b: 'ùóØ', c: 'ùó∞', d: 'ùó±', e: 'ùó≤', f: 'ùó≥', g: 'ùó¥', h: 'ùóµ', i: 'ùó∂', j: 'ùó∑',
    k: 'ùó∏', l: 'ùóπ', m: 'ùó∫', n: 'ùóª', o: 'ùóº', p: 'ùóΩ', q: 'ùóæ', r: 'ùóø', s: 'ùòÄ', t: 'ùòÅ',
    u: 'ùòÇ', v: 'ùòÉ', w: 'ùòÑ', x: 'ùòÖ', y: 'ùòÜ', z: 'ùòá',
    A: 'ùóî', B: 'ùóï', C: 'ùóñ', D: 'ùóó', E: 'ùóò', F: 'ùóô', G: 'ùóö', H: 'ùóõ', I: 'ùóú', J: 'ùóù',
    K: 'ùóû', L: 'ùóü', M: 'ùó†', N: 'ùó°', O: 'ùó¢', P: 'ùó£', Q: 'ùó§', R: 'ùó•', S: 'ùó¶', T: 'ùóß',
    U: 'ùó®', V: 'ùó©', W: 'ùó™', X: 'ùó´', Y: 'ùó¨', Z: 'ùó≠',
    0: 'ùü¨', 1: 'ùü≠', 2: 'ùüÆ', 3: 'ùüØ', 4: 'ùü∞', 5: 'ùü±', 6: 'ùü≤', 7: 'ùü≥', 8: 'ùü¥', 9: 'ùüµ',
  },
  italic: {
    a: 'ùò¢', b: 'ùò£', c: 'ùò§', d: 'ùò•', e: 'ùò¶', f: 'ùòß', g: 'ùò®', h: 'ùò©', i: 'ùò™', j: 'ùò´',
    k: 'ùò¨', l: 'ùò≠', m: 'ùòÆ', n: 'ùòØ', o: 'ùò∞', p: 'ùò±', q: 'ùò≤', r: 'ùò≥', s: 'ùò¥', t: 'ùòµ',
    u: 'ùò∂', v: 'ùò∑', w: 'ùò∏', x: 'ùòπ', y: 'ùò∫', z: 'ùòª',
    A: 'ùòà', B: 'ùòâ', C: 'ùòä', D: 'ùòã', E: 'ùòå', F: 'ùòç', G: 'ùòé', H: 'ùòè', I: 'ùòê', J: 'ùòë',
    K: 'ùòí', L: 'ùòì', M: 'ùòî', N: 'ùòï', O: 'ùòñ', P: 'ùòó', Q: 'ùòò', R: 'ùòô', S: 'ùòö', T: 'ùòõ',
    U: 'ùòú', V: 'ùòù', W: 'ùòû', X: 'ùòü', Y: 'ùò†', Z: 'ùò°',
  },
  medieval: {
    a: 'ùîû', b: 'ùîü', c: 'ùî†', d: 'ùî°', e: 'ùî¢', f: 'ùî£', g: 'ùî§', h: 'ùî•', i: 'ùî¶', j: 'ùîß',
    k: 'ùî®', l: 'ùî©', m: 'ùî™', n: 'ùî´', o: 'ùî¨', p: 'ùî≠', q: 'ùîÆ', r: 'ùîØ', s: 'ùî∞', t: 'ùî±',
    u: 'ùî≤', v: 'ùî≥', w: 'ùî¥', x: 'ùîµ', y: 'ùî∂', z: 'ùî∑',
    A: 'ùîÑ', B: 'ùîÖ', C: '‚Ñ≠', D: 'ùîá', E: 'ùîà', F: 'ùîâ', G: 'ùîä', H: '‚Ñå', I: '‚Ñë', J: 'ùîç',
    K: 'ùîé', L: 'ùîè', M: 'ùîê', N: 'ùîë', O: 'ùîí', P: 'ùîì', Q: 'ùîî', R: '‚Ñú', S: 'ùîñ', T: 'ùîó',
    U: 'ùîò', V: 'ùîô', W: 'ùîö', X: 'ùîõ', Y: 'ùîú', Z: '‚Ñ®',
  },
  cursive: {
    a: 'ùì™', b: 'ùì´', c: 'ùì¨', d: 'ùì≠', e: 'ùìÆ', f: 'ùìØ', g: 'ùì∞', h: 'ùì±', i: 'ùì≤', j: 'ùì≥',
    k: 'ùì¥', l: 'ùìµ', m: 'ùì∂', n: 'ùì∑', o: 'ùì∏', p: 'ùìπ', q: 'ùì∫', r: 'ùìª', s: 'ùìº', t: 'ùìΩ',
    u: 'ùìæ', v: 'ùìø', w: 'ùîÄ', x: 'ùîÅ', y: 'ùîÇ', z: 'ùîÉ',
    A: 'ùìê', B: 'ùìë', C: 'ùìí', D: 'ùìì', E: 'ùìî', F: 'ùìï', G: 'ùìñ', H: 'ùìó', I: 'ùìò', J: 'ùìô',
    K: 'ùìö', L: 'ùìõ', M: 'ùìú', N: 'ùìù', O: 'ùìû', P: 'ùìü', Q: 'ùì†', R: 'ùì°', S: 'ùì¢', T: 'ùì£',
    U: 'ùì§', V: 'ùì•', W: 'ùì¶', X: 'ùìß', Y: 'ùì®', Z: 'ùì©',
  },
  doublestruck: {
    a: 'ùïí', b: 'ùïì', c: 'ùïî', d: 'ùïï', e: 'ùïñ', f: 'ùïó', g: 'ùïò', h: 'ùïô', i: 'ùïö', j: 'ùïõ',
    k: 'ùïú', l: 'ùïù', m: 'ùïû', n: 'ùïü', o: 'ùï†', p: 'ùï°', q: 'ùï¢', r: 'ùï£', s: 'ùï§', t: 'ùï•',
    u: 'ùï¶', v: 'ùïß', w: 'ùï®', x: 'ùï©', y: 'ùï™', z: 'ùï´',
    A: 'ùî∏', B: 'ùîπ', C: '‚ÑÇ', D: 'ùîª', E: 'ùîº', F: 'ùîΩ', G: 'ùîæ', H: '‚Ñç', I: 'ùïÄ', J: 'ùïÅ',
    K: 'ùïÇ', L: 'ùïÉ', M: 'ùïÑ', N: '‚Ñï', O: 'ùïÜ', P: '‚Ñô', Q: '‚Ñö', R: '‚Ñù', S: 'ùïä', T: 'ùïã',
    U: 'ùïå', V: 'ùïç', W: 'ùïé', X: 'ùïè', Y: 'ùïê', Z: '‚Ñ§',
    0: 'ùüò', 1: 'ùüô', 2: 'ùüö', 3: 'ùüõ', 4: 'ùüú', 5: 'ùüù', 6: 'ùüû', 7: 'ùüü', 8: 'ùü†', 9: 'ùü°',
  },
  squared: {
    a: 'üÑ∞', b: 'üÑ±', c: 'üÑ≤', d: 'üÑ≥', e: 'üÑ¥', f: 'üÑµ', g: 'üÑ∂', h: 'üÑ∑', i: 'üÑ∏', j: 'üÑπ',
    k: 'üÑ∫', l: 'üÑª', m: 'üÑº', n: 'üÑΩ', o: 'üÑæ', p: 'üÑø', q: 'üÖÄ', r: 'üÖÅ', s: 'üÖÇ', t: 'üÖÉ',
    u: 'üÖÑ', v: 'üÖÖ', w: 'üÖÜ', x: 'üÖá', y: 'üÖà', z: 'üÖâ',
    A: 'üÑ∞', B: 'üÑ±', C: 'üÑ≤', D: 'üÑ≥', E: 'üÑ¥', F: 'üÑµ', G: 'üÑ∂', H: 'üÑ∑', I: 'üÑ∏', J: 'üÑπ',
    K: 'üÑ∫', L: 'üÑª', M: 'üÑº', N: 'üÑΩ', O: 'üÑæ', P: 'üÑø', Q: 'üÖÄ', R: 'üÖÅ', S: 'üÖÇ', T: 'üÖÉ',
    U: 'üÖÑ', V: 'üÖÖ', W: 'üÖÜ', X: 'üÖá', Y: 'üÖà', Z: 'üÖâ',
    0: '0Ô∏è‚É£', 1: '1Ô∏è‚É£', 2: '2Ô∏è‚É£', 3: '3Ô∏è‚É£', 4: '4Ô∏è‚É£', 5: '5Ô∏è‚É£', 6: '6Ô∏è‚É£', 7: '7Ô∏è‚É£', 8: '8Ô∏è‚É£', 9: '9Ô∏è‚É£',
  },
  script: {
    a: 'ùí∂', b: 'ùí∑', c: 'ùí∏', d: 'ùíπ', e: '‚ÑØ', f: 'ùíª', g: '‚Ñä', h: 'ùíΩ', i: 'ùíæ', j: 'ùíø',
    k: 'ùìÄ', l: '‚Ñì', m: 'ùìÇ', n: 'ùìÉ', o: '‚Ñ¥', p: 'ùìÖ', q: 'ùìÜ', r: 'ùìá', s: 'ùìà', t: 'ùìâ',
    u: 'ùìä', v: 'ùìã', w: 'ùìå', x: 'ùìç', y: 'ùìé', z: 'ùìè',
    A: 'ùíú', B: '‚Ñ¨', C: 'ùíû', D: 'ùíü', E: '‚Ñ∞', F: '‚Ñ±', G: 'ùí¢', H: '‚Ñã', I: '‚Ñê', J: 'ùí•',
    K: 'ùí¶', L: '‚Ñí', M: '‚Ñ≥', N: 'ùí©', O: 'ùí™', P: 'ùí´', Q: 'ùí¨', R: '‚Ñõ', S: 'ùíÆ', T: 'ùíØ',
    U: 'ùí∞', V: 'ùí±', W: 'ùí≤', X: 'ùí≥', Y: 'ùí¥', Z: 'ùíµ',
  }
};

// Transformation functions
const transforms = {
  // Upside down text
  flip: function(text) {
    let result = "";
    // Loop through the text in reverse order
    for (let i = text.length - 1; i >= 0; i--) {
      const char = text[i];
      // Use flipTable or the original character
      result += (flipTable[char] || char);
    }
    return result;
  },
  
  // Map characters using charMaps
  tiny: function(text) {
    return text.split('').map(char => charMaps.tiny[char] || char).join('');
  },
  
  wide: function(text) {
    return text.split('').map(char => charMaps.wide[char] || char).join('');
  },
  
  bubble: function(text) {
    return text.split('').map(char => charMaps.bubble[char] || char).join('');
  },
  
  bold: function(text) {
    return text.split('').map(char => charMaps.bold[char] || char).join('');
  },
  
  italic: function(text) {
    return text.split('').map(char => charMaps.italic[char] || char).join('');
  },
  
  medieval: function(text) {
    return text.split('').map(char => charMaps.medieval[char] || char).join('');
  },
  
  cursive: function(text) {
    return text.split('').map(char => charMaps.cursive[char] || char).join('');
  },
  
  doublestruck: function(text) {
    return text.split('').map(char => charMaps.doublestruck[char] || char).join('');
  },
  
  squared: function(text) {
    return text.split('').map(char => charMaps.squared[char] || char).join('');
  },
  
  script: function(text) {
    return text.split('').map(char => charMaps.script[char] || char).join('');
  },
  
  // Strike-through text
  strike: function(text) {
    return text.split('').map(char => char + '\u0336').join('');
  }
};

// Transformation titles and descriptions
const transformTitles = {
  flip: 'Upside Down Text',
  tiny: 'Tiny Text',
  wide: 'Wide Text',
  bubble: 'Bubble Text',
  bold: 'Bold Text',
  italic: 'Italic Text',
  strike: 'Strikethrough Text',
  medieval: 'Medieval Text',
  cursive: 'Cursive Text',
  doublestruck: 'Double-Struck Text',
  squared: 'Squared Text',
  script: 'Script Text'
};

// DOM elements
const inputEl = document.getElementById('input-text');
const outputContainer = document.getElementById('output-container');
const transformButtons = document.querySelectorAll('.transform-btn');
const statusMessage = document.getElementById('status-message');

// Show status message
function showStatus(message, duration = 2000) {
  statusMessage.textContent = message;
  statusMessage.classList.add('show-status');
  setTimeout(() => {
    statusMessage.classList.remove('show-status');
  }, duration);
}

// Function to create an output box
function createOutputBox(title, text, transformType) {
  const outputBox = document.createElement('div');
  outputBox.className = 'output-box';
  outputBox.dataset.type = transformType;
  outputBox.setAttribute('role', 'tabpanel');
  outputBox.id = `panel-${transformType}`;
  
  const titleEl = document.createElement('div');
  titleEl.className = 'output-title';
  titleEl.textContent = title;
  
  const textEl = document.createElement('div');
  textEl.className = 'output-text';
  textEl.textContent = text;
  textEl.setAttribute('aria-label', `${title}: ${text}`);
  
  const copyBtn = document.createElement('button');
  copyBtn.className = 'copy-btn';
  copyBtn.textContent = 'Copy';
  copyBtn.setAttribute('aria-label', `Copy ${title}`);
  copyBtn.onclick = function() {
    // Use the clipboard API to copy text
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text)
        .then(() => {
          // Show confirmation both visually and for screen readers
          copyBtn.textContent = 'Copied!';
          showStatus(`${title} copied to clipboard`);
          setTimeout(() => {
            copyBtn.textContent = 'Copy';
          }, 1500);
        })
        .catch(() => {
          // Fallback for browsers that don't support clipboard API
          const textarea = document.createElement('textarea');
          textarea.value = text;
          textarea.style.position = 'fixed';  // Avoid scrolling to bottom
          document.body.appendChild(textarea);
          textarea.focus();
          textarea.select();
          
          try {
            document.execCommand('copy');
            copyBtn.textContent = 'Copied!';
            showStatus(`${title} copied to clipboard`);
            setTimeout(() => {
              copyBtn.textContent = 'Copy';
            }, 1500);
          } catch (err) {
            showStatus('Failed to copy text');
          }
          
          document.body.removeChild(textarea);
        });
    } else {
      // Old-school fallback
      const textarea = document.createElement('textarea');
      textarea.value = text;
      textarea.style.position = 'fixed';
      document.body.appendChild(textarea);
      textarea.focus();
      textarea.select();
      
      try {
        const successful = document.execCommand('copy');
        copyBtn.textContent = successful ? 'Copied!' : 'Copy';
        showStatus(successful ? `${title} copied to clipboard` : 'Failed to copy text');
        setTimeout(() => {
          copyBtn.textContent = 'Copy';
        }, 1500);
      } catch (err) {
        showStatus('Failed to copy text');
      }
      
      document.body.removeChild(textarea);
    }
  };
  
  outputBox.appendChild(titleEl);
  outputBox.appendChild(textEl);
  outputBox.appendChild(copyBtn);
  
  return outputBox;
}

// Utility function to debounce function calls
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// Optimization for long text transformations
function optimizedTransform(text, transformFn) {
  // For very long text, process in chunks to avoid UI freezing
  const CHUNK_SIZE = 1000;
  
  if (text.length <= CHUNK_SIZE) {
    return transformFn(text);
  }
  
  // Process text in chunks for very long inputs
  let result = '';
  for (let i = 0; i < text.length; i += CHUNK_SIZE) {
    const chunk = text.slice(i, i + CHUNK_SIZE);
    result += transformFn(chunk);
    
    // Allow UI to breathe for extremely long texts
    if (i > 0 && i % (CHUNK_SIZE * 5) === 0) {
      console.log(`Processed ${i} of ${text.length} characters`);
    }
  }
  
  return result;
}

// Function to generate all outputs
function generateOutputs(inputText, activeType = 'all') {
  // Clear previous outputs
  outputContainer.innerHTML = '';
  
  if (!inputText.trim()) {
    const emptyMessage = document.createElement('div');
    emptyMessage.textContent = 'Enter some text to see transformations';
    emptyMessage.style.padding = '20px';
    emptyMessage.style.color = '#777';
    outputContainer.appendChild(emptyMessage);
    return;
  }
  
  // Show processing indicator for any text transformation
  document.body.classList.add('processing');
  
  // Use setTimeout to prevent UI freezing on long text
  setTimeout(() => {
    try {
      // Generate outputs based on active type
      if (activeType === 'all') {
        Object.keys(transforms).forEach(type => {
          try {
            const transformedText = optimizedTransform(inputText, transforms[type]);
            const outputBox = createOutputBox(transformTitles[type], transformedText, type);
            outputContainer.appendChild(outputBox);
          } catch (error) {
            console.error(`Error transforming with ${type}:`, error);
            const errorBox = document.createElement('div');
            errorBox.className = 'output-box';
            errorBox.innerHTML = `<div class="output-title">${transformTitles[type]} - Error</div>
                                <div class="output-text">Sorry, this transformation failed.</div>`;
            outputContainer.appendChild(errorBox);
          }
        });
      } else {
        try {
          const transformedText = optimizedTransform(inputText, transforms[activeType]);
          const outputBox = createOutputBox(transformTitles[activeType], transformedText, activeType);
          outputContainer.appendChild(outputBox);
        } catch (error) {
          console.error(`Error transforming with ${activeType}:`, error);
          showStatus(`Error transforming text to ${transformTitles[activeType]}`);
          const errorBox = document.createElement('div');
          errorBox.className = 'output-box';
          errorBox.innerHTML = `<div class="output-title">${transformTitles[activeType]} - Error</div>
                              <div class="output-text">Sorry, this transformation failed.</div>`;
          outputContainer.appendChild(errorBox);
        }
      }
    } finally {
      // Hide processing indicator when done
      document.body.classList.remove('processing');
    }
  }, 10);
}

// Event listeners
const debouncedGenerateOutputs = debounce((value, type) => {
  generateOutputs(value, type);
}, 300);

inputEl.addEventListener('input', () => {
  const activeButton = document.querySelector('.transform-btn.active');
  const activeType = activeButton.dataset.type;
  debouncedGenerateOutputs(inputEl.value, activeType);
});

// Button event listeners
transformButtons.forEach(button => {
  button.addEventListener('click', () => {
    // Update active button
    transformButtons.forEach(btn => {
      btn.classList.remove('active');
      btn.setAttribute('aria-selected', 'false');
    });
    button.classList.add('active');
    button.setAttribute('aria-selected', 'true');
    
    // Generate outputs with selected type
    generateOutputs(inputEl.value, button.dataset.type);
  });
  
  // Make buttons accessible with keyboard
  button.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      button.click();
    }
  });
});

// Detect keyboard users to show relevant hints
window.addEventListener('keydown', function(e) {
  if (e.key === 'Tab') {
    document.body.classList.add('keyboard-user');
  }
});

window.addEventListener('mousedown', function() {
  document.body.classList.remove('keyboard-user');
});

// Initialize with placeholder text
window.addEventListener('DOMContentLoaded', () => {
  inputEl.value = "Hello world!";
  generateOutputs(inputEl.value);
});
</script>
</body>
</html>